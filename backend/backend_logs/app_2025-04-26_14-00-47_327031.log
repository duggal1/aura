2025-04-26 14:00:55.489 | INFO     | app.main:lifespan:14 - Starting application...
2025-04-26 14:00:55.501 | INFO     | app.logging_setup:start_metrics_server:76 - Prometheus metrics server started on port 8001
2025-04-26 14:00:55.506 | INFO     | app.cache:init_redis_pool:27 - Successfully connected to Redis at redis://localhost:6379/0
2025-04-26 14:00:55.506 | INFO     | app.emotion_pipeline:load_models:77 - Device set to use cpu
2025-04-26 14:00:57.042 | INFO     | app.emotion_pipeline:load_models:90 - Loaded emotion model: j-hartmann/emotion-english-distilroberta-base
2025-04-26 14:00:57.042 | INFO     | app.emotion_pipeline:load_models:91 - Loaded emotion model labels: ['anger', 'disgust', 'fear', 'joy', 'neutral', 'sadness', 'surprise']
2025-04-26 14:00:57.697 | INFO     | app.emotion_pipeline:load_models:103 - Loaded sentiment model
2025-04-26 14:00:58.834 | INFO     | app.emotion_pipeline:load_models:118 - Loaded sarcasm model: jkhan447/sarcasm-detection-RoBerta-base-POS
2025-04-26 14:00:58.881 | INFO     | app.llm_service:configure_genai:16 - Google GenAI client configured.
2025-04-26 14:00:58.891 | INFO     | app.main:lifespan:22 - Redis cache cleared on startup.
2025-04-26 14:00:58.891 | INFO     | app.main:lifespan:25 - Startup complete.
2025-04-26 14:00:58.904 | INFO     | app.main:chat_endpoint:74 - [ReqID: req_c055ed90] Chat request: 'im feeling lonely as fuck...'
2025-04-26 14:00:58.906 | INFO     | app.utils:wrapper:107 - Starting 'Advanced Emotion Analysis'...
2025-04-26 14:00:59.377 | ERROR    | app.emotion_pipeline:analyze_emotions:159 - Error during emotion pipeline inference: string indices must be integers, not 'str'
2025-04-26 14:00:59.378 | INFO     | app.utils:wrapper:117 - 'Advanced Emotion Analysis' completed successfully in 0.4721 seconds.
2025-04-26 14:00:59.378 | ERROR    | app.main:chat_endpoint:93 - [ReqID: req_c055ed90] Emotion analysis returned None.
2025-04-26 14:00:59.378 | ERROR    | app.main:chat_endpoint:99 - [ReqID: req_c055ed90] Emotion analysis error: 503: Emotion analysis unavailable.
2025-04-26 14:02:29.911 | INFO     | app.main:lifespan:27 - Shutting down...
2025-04-26 14:02:29.915 | ERROR    | app.cache:close_redis_pool:49 - Error closing Redis connection pool: 'Redis' object has no attribute 'wait_closed'
2025-04-26 14:02:29.915 | INFO     | app.main:lifespan:29 - Shutdown complete.
